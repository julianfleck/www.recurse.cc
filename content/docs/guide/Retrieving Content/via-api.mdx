---
title: Via API
description: Learn how to retrieve content from your Recurse knowledge base programmatically
---

Access your knowledge base programmatically through the Recurse API. Retrieve documents, search for information, and integrate RAGE into your applications and workflows.

---

## Authentication

All API requests require authentication using your API key:

```bash
# Using X-API-Key header (recommended)
curl -H "X-API-Key: YOUR_API_KEY" \
     "https://api.recurse.cc/search?q=test"

# Using Authorization header
curl -H "Authorization: Bearer YOUR_API_KEY" \
     "https://api.recurse.cc/search?q=test"
```

### API Key Management
- Generate keys in your dashboard under Settings → API Keys
- Keys are shown only once - save them securely
- Regenerate if compromised
- Different keys for different applications/projects

---

## Core Retrieval Endpoints

### Search Your Knowledge Base

The search endpoint is your primary way to query the knowledge base. Here's what you can control:

| Parameter | Type | Description | When to Use |
|-----------|------|-------------|-------------|
| `query` | string | Your search terms | Always required - what you're looking for |
| `limit` | number | Max results to return | Large result sets - use pagination instead |
| `depth` | number | How deep to expand relationships | `0` = flat results (fast), `2+` = related content (comprehensive) |
| `field_set` | string | Which data to include | `basic` = fast, `full` = complete content |
| `min_score` | number | Minimum relevance score | Filter out low-relevance results |

**Why use different parameters?**
- **depth=0**: Fast searches when you just need basic results
- **depth=2**: Comprehensive results showing related concepts and context
- **field_set=basic**: Quick loading for lists and overviews
- **field_set=full**: Complete content for detailed analysis

Now let's see these parameters in action:

<Tabs items={['Quick Search', 'Detailed Results', 'Flat Results']} defaultIndex={0}>
  <Tab value="Quick Search">
    **Use when:** You want fast results for a simple query
    ```bash
    curl -X GET "https://api.recurse.cc/search?query=artificial%20intelligence&limit=10" \
      -H "X-API-Key: YOUR_API_KEY"
    ```
    *Returns basic results quickly - perfect for autocomplete or simple lookups*
  </Tab>

  <Tab value="Detailed Results">
    **Use when:** You need comprehensive results with related concepts
    ```bash
    curl -X GET "https://api.recurse.cc/search?query=machine%20learning&depth=2&field_set=full" \
      -H "X-API-Key: YOUR_API_KEY"
    ```
    *Returns rich results with relationships - perfect for research or detailed analysis*
  </Tab>

  <Tab value="Flat Results">
    **Use when:** You want maximum speed and don't need relationships
    ```bash
    curl -X GET "https://api.recurse.cc/search?query=neural%20networks&depth=0&field_set=basic" \
      -H "X-API-Key: YOUR_API_KEY"
    ```
    *Returns only direct matches without related content - perfect for high-volume queries*
  </Tab>

  <Tab value="Response Example">
    **Note:** Response structure varies based on your `depth` and `field_set` parameters

    *With depth=2 (relationships included):*
    ```json
    {
      "query": "machine learning",
      "nodes": [
        {
          "id": "node_abc123",
          "title": "ML Fundamentals",
          "summary": "Core concepts in machine learning...",
          "type": "article",
          "children": [
            {
              "id": "related_456",
              "title": "Neural Networks",
              "summary": "How neural networks work...",
              "type": "concept",
              "children": [
                {
                  "id": "deep_789",
                  "title": "Deep Learning",
                  "summary": "Advanced neural network techniques...",
                  "type": "concept"
                }
              ]
            }
          ]
        }
      ],
      "total_found": 1,
      "search_time_ms": 250.0
    }
    ```
  </Tab>
</Tabs>

### Understanding Search Results

**Why tree structures matter:**

- **depth=0 (Flat)**: Fast, simple results. Use when you just need direct matches without context.
- **depth=1 (Basic relationships)**: Shows immediate connections. Good for understanding basic relationships.
- **depth=2+ (Deep relationships)**: Shows complex networks of related concepts. Perfect for research and comprehensive analysis.

**The tree structure shows you:**
- How concepts connect to each other
- Related ideas and subtopics
- Contextual relationships that might not be obvious
- Deeper insights through concept networks

This is why RAGE is different - it doesn't just find documents, it shows you how ideas are connected.

### List Documents

Retrieve metadata about your uploaded documents:

<Tabs items={['Request', 'Response']} defaultIndex={0}>
  <Tab value="Request">
    ```bash
    curl -X GET "https://api.recurse.cc/documents?page=1&limit=20&field_set=basic" \
      -H "X-API-Key: YOUR_API_KEY"
    ```
  </Tab>

  <Tab value="Response">
    ```json
    {
      "documents": [
        {
          "id": "doc_abc123def456",
          "title": "Getting Started Guide",
          "summary": "This guide helps you get started...",
          "type": "guide",
          "children": [
            {
              "id": "tag_tutorial",
              "text": "tutorial",
              "title": "Tutorial",
              "type": "tag"
            }
          ]
        }
      ],
      "pagination": {
        "page": 1,
        "limit": 20,
        "total_count": 1,
        "total_pages": 1,
        "has_next": false,
        "has_previous": false
      },
      "metadata": {
        "total_tags": 3,
        "tags": ["tutorial", "getting-started", "api"]
      }
    }
    ```
  </Tab>
</Tabs>

### Get Specific Document

Retrieve detailed information about a specific document:

<Tabs items={['Request', 'Response']} defaultIndex={0}>
  <Tab value="Request">
    ```bash
    curl -X GET "https://api.recurse.cc/documents/doc_abc123def456" \
      -H "X-API-Key: YOUR_API_KEY"
    ```
  </Tab>

  <Tab value="Response">
    ```json
    {
      "id": "doc_abc123def456",
      "title": "Getting Started Guide",
      "text": "# Getting Started\n\nThis is a comprehensive guide...",
      "summary": "This guide helps you get started...",
      "type": "guide",
      "metadata": {
        "author": "Recurse Team",
        "tags": ["tutorial", "getting-started"],
        "created_at": "2024-01-15T10:30:00Z",
        "updated_at": "2024-01-15T10:30:00Z"
      },
      "children": [
        {
          "id": "section_1",
          "title": "Introduction",
          "type": "section",
          "children": []
        }
      ]
    }
    ```
  </Tab>
</Tabs>

---

## Search Parameters

### Query Syntax

#### Basic Text Search
```bash
# Simple keyword search
curl "https://api.recurse.cc/search?query=machine%20learning"

# Phrase search
curl "https://api.recurse.cc/search?query=%22artificial%20intelligence%22"
```

#### Advanced Filtering
```bash
# Search within specific document type
curl "https://api.recurse.cc/search?query=machine%20learning&type=research"

# Search by tags
curl "https://api.recurse.cc/search?query=neural%20networks&tags=deep-learning"

# Date range search
curl "https://api.recurse.cc/search?query=AI&date_from=2024-01-01&date_to=2024-12-31"
```

### Response Customization

#### Field Selection
```bash
# Basic fields only (faster)
curl "https://api.recurse.cc/search?query=test&field_set=basic"

# Include full text
curl "https://api.recurse.cc/search?query=test&field_set=full"

# Include metadata only
curl "https://api.recurse.cc/search?query=test&field_set=metadata"
```

#### Depth Control
```bash
# Include direct children only
curl "https://api.recurse.cc/search?query=test&depth=1"

# Include grandchildren (deeper relationships)
curl "https://api.recurse.cc/search?query=test&depth=2"

# Flat results (no relationships)
curl "https://api.recurse.cc/search?query=test&depth=0"
```

#### Pagination
```bash
# Page through results
curl "https://api.recurse.cc/search?query=test&page=1&limit=20"
curl "https://api.recurse.cc/search?query=test&page=2&limit=20"
```

---

## Integration Patterns

### Search and Display Results

<Tabs items={['JavaScript', 'Python', 'React']} defaultIndex={0}>
  <Tab value="JavaScript">
    ```javascript
    async function searchKnowledge(query) {
      const response = await fetch('/api/search', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'X-API-Key': process.env.RECURSE_API_KEY
        },
        body: JSON.stringify({
          query,
          limit: 10,
          field_set: 'basic'
        })
      });

      const results = await response.json();

      // Display results
      results.nodes.forEach(node => {
        console.log(`${node.title}: ${node.summary}`);
      });

      return results;
    }
    ```
  </Tab>

  <Tab value="Python">
    ```python
    import requests

    def search_knowledge(query, api_key):
        url = "https://api.recurse.cc/search"
        headers = {
            "Content-Type": "application/json",
            "X-API-Key": api_key
        }
        data = {
            "query": query,
            "limit": 10,
            "field_set": "basic"
        }

        response = requests.post(url, json=data, headers=headers)
        results = response.json()

        # Process results
        for node in results['nodes']:
            print(f"{node['title']}: {node['summary']}")

        return results
    ```
  </Tab>

  <Tab value="React">
    ```jsx
    import { useState, useEffect } from 'react';

    function KnowledgeSearch() {
      const [query, setQuery] = useState('');
      const [results, setResults] = useState([]);
      const [loading, setLoading] = useState(false);

      const search = async () => {
        setLoading(true);
        try {
          const response = await fetch('/api/search', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'X-API-Key': process.env.REACT_APP_RECURSE_API_KEY
            },
            body: JSON.stringify({
              query,
              limit: 20,
              field_set: 'basic'
            })
          });

          const data = await response.json();
          setResults(data.nodes);
        } catch (error) {
          console.error('Search failed:', error);
        } finally {
          setLoading(false);
        }
      };

      return (
        <div>
          <input
            value={query}
            onChange={(e) => setQuery(e.target.value)}
            placeholder="Search your knowledge..."
          />
          <button onClick={search} disabled={loading}>
            {loading ? 'Searching...' : 'Search'}
          </button>

          {results.map(node => (
            <div key={node.id}>
              <h3>{node.title}</h3>
              <p>{node.summary}</p>
            </div>
          ))}
        </div>
      );
    }
    ```
  </Tab>
</Tabs>

### Caching and Performance

```javascript
class KnowledgeCache {
  constructor(apiKey) {
    this.apiKey = apiKey;
    this.cache = new Map();
    this.cacheTimeout = 5 * 60 * 1000; // 5 minutes
  }

  async search(query, options = {}) {
    const cacheKey = `${query}-${JSON.stringify(options)}`;
    const cached = this.cache.get(cacheKey);

    if (cached && (Date.now() - cached.timestamp) < this.cacheTimeout) {
      return cached.data;
    }

    const response = await fetch('https://api.recurse.cc/search', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'X-API-Key': this.apiKey
      },
      body: JSON.stringify({ query, ...options })
    });

    const data = await response.json();

    this.cache.set(cacheKey, {
      data,
      timestamp: Date.now()
    });

    return data;
  }
}
```

---

## Advanced Features

### Semantic Search

**Why semantic search?** Regular keyword search might miss relevant content. Semantic search understands meaning and intent.

```bash
# Ask questions in natural language
curl "https://api.recurse.cc/search?query=how%20do%20neural%20networks%20learn"
# → Finds explanations, tutorials, and related concepts

# Get conceptual explanations
curl "https://api.recurse.cc/search?query=explain%20backpropagation"
# → Returns clear explanations even if "backpropagation" isn't mentioned

# Ask for comparisons and analysis
curl "https://api.recurse.cc/search?query=differences%20between%20supervised%20and%20unsupervised%20learning"
# → Finds content that compares these approaches
```

**Use semantic search when:**
- You want to ask questions rather than just search keywords
- You're exploring a topic and want comprehensive coverage
- You need explanations of complex concepts
- You're doing research and want contextual understanding

---

## What You Need to Know

<Accordions type="single">
  <Accordion title="Rate Limits">
    | Tier | Requests/Minute | Requests/Hour | Concurrent |
    |------|-----------------|---------------|------------|
    | **Free** | 60 | 1,000 | 5 |
    | **Pro** | 600 | 10,000 | 20 |
    | **Enterprise** | Custom | Custom | Custom |

    Most applications won't hit these limits. If you do, consider caching or upgrading your plan.
  </Accordion>

  <Accordion title="Performance Optimization">
    | Use Case | Recommended Settings | Why |
    |----------|----------------------|-----|
    | **Quick lookups** | `depth=0`, `field_set=basic` | Fastest response, minimal data |
    | **Research/Analysis** | `depth=2`, `field_set=full` | Comprehensive relationships, complete data |
    | **Large datasets** | Pagination + caching | Handle scale efficiently |
    | **Autocomplete** | `depth=0`, `limit=10` | Fast, focused results |

    RAGE is optimized for both speed and depth - choose based on your use case.
  </Accordion>

  <Accordion title="Common Issues & Solutions">
    | Issue | Solution | Prevention |
    |-------|----------|------------|
    | **Slow responses** | Reduce `depth` or use `basic` field_set | Start with minimal settings, increase as needed |
    | **Rate limited** | Implement exponential backoff | Add retry logic with delays |
    | **Missing results** | Check query terms, try semantic search | Use specific, descriptive queries |
    | **Large responses** | Use pagination, reduce field_set | Implement proper data handling |

    Most issues resolve with parameter adjustments rather than code changes.
  </Accordion>
</Accordions>

---

## Next Steps

Now that you know how to retrieve content via API:

<Cards>
  <Card href="/docs/guide/Adding Content/via-api" title="Upload Content via API">
    Learn how to add content programmatically
  </Card>
  <Card href="/docs/api-documentation/search" title="Search API Reference">
    Complete technical documentation for search
  </Card>
  <Card href="/docs/guide/Retrieving Content/via-mcp" title="Via MCP">
    Use the Model Context Protocol for AI integration
  </Card>
  <Card href="/docs/guide/Retrieving Content/via-proxy" title="Via Proxy">
    Use OpenAI-compatible proxy for existing tools
  </Card>
</Cards>

Ready to integrate RAGE into your applications?